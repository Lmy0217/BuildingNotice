# API v0.1-alpha0

## 上传图片
上传图片到服务器。上传时，请使用 HTTP POST 方式，其中 enctype 为 'multipart/form-data'
### API地址
[POST] /image/upload
### POST参数 (非Json)
|参数|类型|说明|
|-|-|-|
|file|File|(必填) 需要上传的图片文件|
|depict|String|(必填) 图片描述|
### 返回数据 (Json)
|参数|类型|说明|
|-|-|-|
|status|Integer|状态码 (参见 [HttpStatus](https://tools.ietf.org/html/rfc7231#section-6))|
|imageId|Integer|图片 Id|

## 下载图片
从服务器下载图片。下载时，请使用 HTTP GET 方式
### API地址
[GET] /image/download
### GET参数 (非Json)
|参数|类型|说明|
|-|-|-|
|id|Integer|(必填) 图片 Id|
### 返回数据 (非Json)
|参数|类型|说明|
|-|-|-|
|-|Stream|图片文件流|

## 创建报告
上传报告信息到服务器。上传时，请使用 HTTP POST 方式，其中 enctype 为 'application/json; charset=UTF-8'
### API地址
[POST] /archive/create
### POST参数 (Json)
|参数|类型|说明|
|-|-|-|
|unit|String|(必填) 委托单位 (人)|
|phone|String|(选填) 联系电话|
|material|String|(选填) 提供资料情况|
|addr|String|(必填) 房屋地址|
|hold|String|(必填) 户主姓名|
|holdid|String|(必填) 户主身份证号|
|attr|String|(必填) 房屋属性，如：住宅 / 附属用房|
|layer|Integer|(必填) 层数|
|createyear|Integer|(选填) 建造年份|
|typeid|Integer|(必填) 结构类型 Id，可选值：1：砖混结构，2：砖木结构，3：底框结构，4：框架结构|
|imgs|List (Integer)|(必填) 图片 Id 列表，长度不限 (参见 [上传图片](#上传图片))|
|damage|List (Integer)|(必填) 受损信息，长度 18<br><br>填以下数值：[共有中柱, 危险中柱, 共有边柱, 危险边柱, 共有角柱, 危险角柱, 共有屋架, 危险屋架, 共有中梁, 危险中梁, 共有边梁, 危险边梁, 共有称重墙体, 危险称重墙体, 共有楼板构件, 危险楼板构件, 共有围护构件, 危险围护构件]|
|type|List (Integer)|(必填) 依据结构类型填写<br><br>**砖混结构**填以下数值：[不均匀沉降, 开裂, 渗水, 露筋并锈蚀]<br>&emsp;&emsp;不均匀沉降 (**ab**): **a**: 无 (0), 存在 (1); **b**: 轻微 (1), 明显 (2)<br>&emsp;&emsp;开裂 (**ab**): **a** (墙体): 无 (0), 有 (1); **b**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;渗水 (**abc**): **a** (墙体): 无 (0), 有 (1); **b** (屋面板): 无 (0), 有 (1); **c**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;露筋并锈蚀 (**ab**): **a** (混凝土构件): 无 (0), 有 (1); **b**: 轻微 (1), 严重 (2)<br><br>**砖木结构**填以下数值：[承重, 楼面, 屋面, 腐蚀, 开裂, 柱脚, 屋面板]<br>&emsp;&emsp;承重 (**abcd**): **a** (砖墙): 否 (0), 是 (1); **b** (木柱): 否 (0), 是 (1); **c** (木屋架): 否 (0), 是 (1); **d** (木檩条): 否 (0), 是 (1)<br>&emsp;&emsp;楼面 (**ab**): **a** (木梁): 无 (0), 有 (1); **b** (木楼板): 无 (0), 有 (1)<br>&emsp;&emsp;屋面 (**a**): **a** (木檩条挂小青瓦): 无 (0), 有 (1)<br>&emsp;&emsp;腐蚀 (**abcde**): **a** (木梁): 无 (0), 有 (1); **b** (木柱): 无 (0), 有 (1); **c** (木屋架): 无 (0), 有 (1); **d** (木檩条): 无 (0), 有 (1); **e**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;开裂 (**abcde**): **a** (木梁): 无 (0), 有 (1); **b** (木柱): 无 (0), 有 (1); **c** (木屋架): 无 (0), 有 (1); **d** (木檩条): 无 (0), 有 (1); **e**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;柱脚 (**abcd**): **a**: 轻微 (1), 严重 (2); **b** (变形): 无 (0), 有 (1); **c** (倾斜): 无 (0), 有 (1); **d** (破损): 无 (0), 有 (1)<br>&emsp;&emsp;屋面板 (**abc**): **a**: 轻微 (1), 严重 (2); **b** (破损): 无 (0), 有 (1); **c** (渗水): 无 (0), 有 (1)<br><br>**底框结构**填以下数值：[开裂, 渗水, 露筋并锈蚀, 混凝土构件开裂]<br>&emsp;&emsp;开裂 (**abc**): **a** (框架部分填充墙): 无 (0), 有 (1); **b** (砖混部分承重墙): 无 (0), 有 (1); **c**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;渗水 (**abc**): **a** (墙体): 无 (0), 有 (1); **b** (屋面板): 无 (0), 有 (1); **c**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;露筋并锈蚀 (**ab**): **a** (混凝土构件): 无 (0), 有 (1); **b**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;混凝土构件开裂 (**a**): **a** (混凝土构件): 无 (0), 有 (1)<br><br>**框架结构**填以下数值：[开裂, 渗水, 露筋并锈蚀, 混凝土构件开裂]<br>&emsp;&emsp;开裂 (**ab**): **a** (墙体): 无 (0), 有 (1); **b**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;渗水 (**abc**): **a** (墙体): 无 (0), 有 (1); **b** (屋面板): 无 (0), 有 (1); **c**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;露筋并锈蚀 (**ab**): **a** (混凝土构件): 无 (0), 有 (1); **b**: 轻微 (1), 严重 (2)<br>&emsp;&emsp;混凝土构件开裂 (**a**): **a** (混凝土构件): 无 (0), 有 (1)|
### 返回数据 (Json)
|参数|类型|说明|
|-|-|-|
|status|Integer|状态码 (参见 [HttpStatus](https://tools.ietf.org/html/rfc7231#section-6))|
|archId|Integer|报告 Id|